# 이상(Anomaly)

> 이상(Anomaly)란 릴레이션에서 일부 속성들의 종속이나 데이터의 중복으로 인해 데이터 조작시 **불일치**가 발생하는 것을 말한다

- 잘못된 테이블 설계로 인해 데이터를 **삭제, 수정, 삽입**할 때 논리적으로 오류가 생기는 것을 말한다.
- 대부분의 이상현상은 **데이터의 중복**으로 인해 발생 -> 이를 제거하는 과정이 **정규화**이다.

# 이상의 종류

- 이상에는 삽입이상, 삭제이상, 갱신이상의 3가지가 있다.

  | 학번 | 이름   | 나이 | 성별 | 강의코드 | 강의명            | 전화번호      |
  | ---- | ------ | ---- | ---- | -------- | ----------------- | ------------- |
  | 1011 | 김싸피 | 23   | 남   | AC1      | 데이터베이스 개론 | 010-1111-1111 |
  | 1012 | 이싸피 | 20   | 여   | AC2      | 운영체제          | 010-2222-2222 |
  | 1013 | 박싸피 | 21   | 남   | AC3      | 자료구조          | 010-3333-3333 |
  | 1013 | 박싸피 | 21   | 남   | AC4      | 웹 프로그래밍     | 010-4444-4444 |
  | 1014 | 정싸피 | 26   | 남   | AC5      | 알고리즘          | 010-5555-5555 |

## 삽입이상(Insertion Anomaly)

- 자료를 삽입할 때 의도하지 않은 자료까지 삽입해야만 자료를 테이블에 추가가 가능한 현상

- 아직 수강한 과목이 없는 학생이 추가되는 경우 강의코드와 강의명에 null값을 삽입해야 테이블에 삽입할 수 있음

  | 학번     | 이름       | 나이   | 성별   | 강의코드   | 강의명            | 전화번호          |
  | -------- | ---------- | ------ | ------ | ---------- | ----------------- | ----------------- |
  | 1011     | 김싸피     | 23     | 남     | AC1        | 데이터베이스 개론 | 010-1111-1111     |
  | 1012     | 이싸피     | 20     | 여     | AC2        | 운영체제          | 010-2222-2222     |
  | 1013     | 박싸피     | 21     | 남     | AC3        | 자료구조          | 010-3333-3333     |
  | 1013     | 박싸피     | 21     | 남     | AC4        | 웹 프로그래밍     | 010-4444-4444     |
  | 1014     | 정싸피     | 26     | 남     | AC5        | 알고리즘          | 010-5555-5555     |
  | **1015** | **임싸피** | **27** | **남** | **_null_** | **_null_**        | **010-6666-6666** |

## 갱신이상(Update Anomaly)

- 중복된 데이터 중 일부만 수정되어 데이터 모순이 일어나는 현상

- 강의코드가 AC3인 사람의 전화번호를 수정하는 경우, 3번과 4번은 같은 사람이지만 전화번호가 다르게 됨

  | 학번     | 이름       | 나이   | 성별   | 강의코드 | 강의명            | 전화번호            |
  | -------- | ---------- | ------ | ------ | -------- | ----------------- | ------------------- |
  | 1011     | 김싸피     | 23     | 남     | AC1      | 데이터베이스 개론 | 010-1111-1111       |
  | 1012     | 이싸피     | 20     | 여     | AC2      | 운영체제          | 010-2222-2222       |
  | **1013** | **박싸피** | **21** | **남** | AC3      | 자료구조          | **_010-0000-0000_** |
  | **1013** | **박싸피** | **21** | **남** | AC4      | 웹 프로그래밍     | **_010-4444-4444_** |
  | 1014     | 정싸피     | 26     | 남     | AC5      | 알고리즘          | 010-5555-5555       |

## 삭제이상(Deletion Anomaly)

- 어떤 정보를 삭제할 때, 의도하지 않은 다른 정보까지 삭제되는 현상

- 강의코드가 AC1인 강의를 삭제하면 1011학번의 학생도 삭제됨

  | 학번         | 이름           | 나이       | 성별       | 강의코드      | 강의명                      | 전화번호              |
  | ------------ | -------------- | ---------- | ---------- | ------------- | --------------------------- | --------------------- |
  | ~~**1011**~~ | ~~**김싸피**~~ | ~~**23**~~ | ~~**남**~~ | ~~**_AC1_**~~ | ~~**_데이터베이스 개론_**~~ | ~~**010-1111-1111**~~ |
  | 1012         | 이싸피         | 20         | 여         | AC2           | 운영체제                    | 010-2222-2222         |
  | 1013         | 박싸피         | 21         | 남         | AC3           | 자료구조                    | 010-3333-3333         |
  | 1013         | 박싸피         | 21         | 남         | AC4           | 웹 프로그래밍               | 010-4444-4444         |
  | 1014         | 정싸피         | 26         | 남         | AC5           | 알고리즘                    | 010-5555-5555         |
