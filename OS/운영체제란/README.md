## 운영체제란?
사용자가 컴퓨터를 쉽게 다루게 해주는 인터페이스입니다.

1. CPU 스케줄링과 프로세스 관리 : CPU 소유권을 어떤 프로세스에 할당할지, 프로세스의 생성과 삭제, 자원 할당 및 반환을 관리합니다.
2. 메모리관리 : 한정된 메모리를 어떤 프로세스에 얼만큼 할당해야 하는지 관리합니다.
3. I/O 디바이스 관리: 마우스, 키보드와 컴퓨터 간에 데이터를 주고 받는 것을 관리합니다.
4. 디스크 파일 관리: 디스크 파일을 어떠한 방법으로 보관할지 관리합니다.

*운영체제는 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층이다. 

*운영체제도 프로그램으로서 메모리에 올라가 있어야 실행할 수가 있는데, 이때 프로그램 중 필요한 부분만 호출해 실행하게 된다. 운영체제 중에서 메모리에 상주하는 핵심부분을 커널(kernel)이라고 한다.

운영체제는 **커널과 인터페이스**로 이루어져 있습니다.

- **커널** : 프로세스 관리, 메모리 관리, 저장장치 관리와 같은 운영체제의 핵심적인 기능을 모아놓은 것으로 운영체제의 성능을 좌우합니다. (자동차의 엔진에 해당한다.)
- **인터페이스** : 사용자의 명령을 전달하고 실행 결과를 사용자에게 알려주는 역할을 합니다.

운영체제는 커널과 인터페이스를 분리하여 같은 커널을 사용하더라도 다른 인터페이스를 가질 수 있습니다.

<img src="
https://github.com/Fun-Fun-Study/CS-Study/assets/101235186/f9e1ac33-1bd2-44d1-88b4-6b9c5a034606"/>

**커널**은 운영체제 중 항상 메모리에 올라가 있는 **운영체제의 핵심 부분**으로서 **컴퓨터 자원들을 관리하는 역할**을 한다. 즉, 커널은 인터페이스로서 응용 프로그램 수행에 필요한 여러가지 서비스를 제공하고, 여러가지 하드웨어(CPU, 메모리) 등의 리소스를 관리하는 역할을 한다.

다만 이러한 커널은 항상 컴퓨터 자원들을 바라만 보고 있기에 사용자와의 상호작용은 지원하지 않는다. 따라서 사용자와의 직접적인 상호작용을 위해 프로그램을 제공하게 되는데, 대표적으로 쉘(Shell)이 있다.

두 모드로 나뉘는 이유 I/O protection을 위해

유저 프로그램이 I/O 요청으로 트랩을 발동하면 올바른 I/O 요청인지 확인한 후 유저 모드가 시스템 콜을 통해 커널 모드로 변환되어 실행됨

** 예를들어, s.readFile()이라는 파일을 읽는 함수가 발동했을 때, 유저 모드에서 파일을 읽지 않고 커널 모드로 돌아가 파일을 읽고 다시 유저모드로 돌아가 그 뒤에 있는 유저 프로그램의 로직을 수행 → 컴퓨터 자원에 대한 직접 접근 차단, 프로그램을 다른 프로그램으로부터 보호할 수 있다.

두 모드는 mode bit를 통해 구별 가능

- 커널모드 특징
    - 시스템의 모든 메모리에 접근할 수 있고 모든 CPU 명령을 실행할 수 있다.
    - 운영체제 코드나 디바이스 드라이버 같은 커널 모드 코드를 실행한다.
- 유저모드 특징
    - 사용자 애플리케이션 코드가 실행한다.
    - 시스템 데이터에 제한된 접근만이 허용되며 하드웨어를 직접 접근할 수 없다.
    - 유저 애플리케이션은 시스템 서비스 호출을 하면 유저모드에서 커널모드로 전환된다.



written by. 박정은